# Understanding the state-dependent impact of species correlated responses on community sensitivity to perturbations

This repository contains the code and data associated with the paper: "Understanding the state-dependent impact of species correlated responses on community sensitivity to perturbations" by Lucas P. Medeiros and Serguei Saavedra.

The repository contains 4 folders: *code*, *data*, *figs*, and *results*. Under *code/scripts* we provide the R scripts to reproduce Figures 1-5 and SI figures. 

Code `generate_synthetic_time_series.R` generates synthetic time series from the different population dynamics models and stores them under *data/synthetic_time_series*. Empirical time series are located under *data/empirical_time_series*. Figure 1 can be generated by running `fig1.R`. For Figures 2, 3, and 4 we need to first run `jacobian_covariance_synthetic_time_series.R` for each population dynamics model. Results are already saved under *results/synthetic_time_series* and figures can be generated by running `fig2.R`, `fig3.R`, and `fig4.R`. For Figure 5, we need to first run `smap_empirical_time_series.R` and `jacobian_covariance_empirical_time_series.R` for each empirical time series. Results are already saved under *results/empirical_time_series* and the figure can be generated by running `fig5A.R` and `fig5B.R`.

SI figures can be generated with the corresponding scripts under *code/scripts*. All figures from the paper can be found under *figs*.
